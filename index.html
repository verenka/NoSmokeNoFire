<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>no_smoke</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <link href="css/codiqa.ext.min.css" rel="stylesheet">
  <link href="css/jquery.mobile-1.3.1.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">

  <script src="js/jquery-1.9.1.min.js"></script>
  <script src="js/jquery.mobile-1.3.1.min.js"></script>
  <script src="js/codiqa.ext.min.js"></script>
  <script src="js/no_smoke.js"></script>
  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBjDlp3CM_KJUtE9rki56HXobAfoP735mA&libraries=geometry"></script>
</head>
<body>
<!-- HOME PAGE - PLACES SORTED BY POSTCODE -->
  <div data-role="page" data-control-title="Home" id="home">
      <header>
          <h1>Nichtraucherlokale</h1>
      </header>
      <main>
          <div data-role="content">
          <a data-role="button" href="#closest" id="list_by_distance">
              Lokale in der Nähe
          </a>
          <h2>Restaurants nach PLZ</h2>
          <ul data-role="listview" data-filter="true" data-divider-theme="b" data-inset="true" id="lokalelist" data-autodividers="true">
              <li data-role="list-divider" role="heading">
                  Stadt
              </li>
          </ul>
        </div>
      </main>
  </div>

<!-- PAGE PLACES SORTED BY DISTANCE -->
  <div data-role="page" data-control-title="closest" id="closest">
      <div data-role="content">
          <header><h1>
              Nächstgelegene Lokale
          </h1>
          </header>
          <main><a data-role="button" href="#home" data-icon="arrow-l" data-iconpos="left">
              zurück zur Übersicht
          </a>
          <ul data-role="listview" id="list_view_distance" data-divider-theme="b" data-inset="true">
              <li data-role="list-divider" role="heading">
                      Lokalname
                      <span class="ui-li-count">
                          Distanz
                      </span>
              </li>
          </ul>
          </main>
      </div>
  </div>

<!-- DETAIL PAGE -->
  <div data-role="page" data-control-title="detail" id="detail">
      <div data-role="content">
          <header><h2 id="rest_name">
              Name
          </h2>
          </header>
          <main><div id="address" data-controltype="htmlblock">
              <p>
                  Address
              </p>
          </div>
          <div id="further" data-controltype="htmlblock">
              <p>
                  further info
              </p>
          </div>
          <div id="website">
              <!--Link is inserted via js-->
          </div>
          <div id="minimap" class="google-map" style="margin-left: auto; margin-right: auto">
          </div>
          </main>

          <!-- script created by codiqa
                will replace by static google map
                eventually replace with google map from directions api to calculate distance to current position
          <script type="text/javascript">
                  window.CodiqaControls && window.CodiqaControls.register('googlemaps', 'minimap', {
              ready: function(control) {
  
                  control.options = {
                      zoom: 14,
                      mapTypeId: google.maps.MapTypeId.ROADMAP
                  };
  
                  control.el = document.getElementById(control._id);
                  control.map = new google.maps.Map(control.el, control.options);

                  //geocoder translates addresses to long/lat
                  //since long/lat are available not actually necessary

                  var geocoder = new google.maps.Geocoder();
                  geocoder.geocode({
                      'address': 'Vienna, Austria'
                  }, function(results, status) {
                      if (status == google.maps.GeocoderStatus.OK) {
  
                          var marker = new google.maps.Marker({
                              map: control.map,
                              position: results[0].geometry.location
                          });
                          control.center = results[0].geometry.location;
                          control.map.setCenter(control.center);
                      }
                  });


  
              }
          });
          </script>-->
      </div>
  </div>
</body>
</html>
